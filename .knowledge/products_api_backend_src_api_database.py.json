{"is_source_file": true, "format": "Python", "description": "This file contains database configuration and utility functions for a product management API, including environment-based database URL determination, SQLAlchemy engine setup, session management, and database initialization with optional seed data.", "external_files": ["os", "contextlib", "typing", "sqlalchemy"], "external_methods": ["os.getenv", "os.makedirs", "create_engine", "sessionmaker", "declarative_base"], "published": ["get_db", "session_scope", "init_db"], "classes": [{"name": "Session", "description": "SQLAlchemy session class used for database interactions."}, {"name": "Base", "description": "Declarative base class for SQLAlchemy ORM models."}], "methods": [{"name": "get_database_url", "description": "Determines the database URL from environment variables or defaults to a local SQLite database."}, {"name": "get_db", "description": "FastAPI dependency that provides a database session, ensuring proper cleanup."}, {"name": "session_scope", "description": "Context manager for transactional database sessions."}, {"name": "init_db", "description": "Creates database tables and optionally seeds initial data."}], "calls": ["os.getenv", "os.makedirs", "create_engine", "sessionmaker", "Base.metadata.create_all", "s.query", "s.add_all"], "search-terms": ["database configuration", "SQLAlchemy setup", "session management", "database initialization", "seed data", "Product model", "context manager"], "state": 2, "file_id": 5, "knowledge_revision": 30, "git_revision": "8069ef52fc9dd6f609d1f178e8a6a77e2df85e51", "revision_history": [{"11": ""}, {"20": "8069ef52fc9dd6f609d1f178e8a6a77e2df85e51"}, {"30": "8069ef52fc9dd6f609d1f178e8a6a77e2df85e51"}], "ctags": [], "filename": "products_api_backend/src/api/database.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/product-management-api-34230-34249.git:kavia-main"}